Деплой на masterapp.dev4m.com

1. Выставить конфиг на nightly (в index.html скрипт на config.js - должен быть по дефолту)
2. Сделать yarn build
3. ssh <никнейм>@masterapp.dev4m.com                                    // Пример: ssh egorderyabin@masterapp.dev4m.com
4. rm -rf <БилдоваяПапка>                                               // В данный момент она называется build
5. cd /var/www/masterapp/web
6. sudo rm -rf ./*                                                      // Удаляет все файлы в папке, которую обслуживает сервер
7. Из папки с проектом выполнить scp -r ./build <никнейм>@masterapp.dev4m.com:build
8. Снова в консоли сервера из директории web: sudo cp -r ~/build/* .    // Скопирует содержимое папки билд в данную директорию


Деплой на qd1w.f4mworld.com

Все то же самое, некоторые пункты отличаются:
1. Выставить конфиг на прод (в index.html скрипт на prod-config.js)
3. ssh <никнейм>@18.194.96.220
5. cd /srv/masterapp-qd1w/
7. меняем адрес сайта по аналогии


Сборка мобильных apk и ipa

1. build.phonegap.com разлочить ключи (account --> edit account --> signing keys --> сохраняя регистр, для Andoid: gvkfqprt, для iOS: Rusoft)
2. В config.xml увеличить номер версии на единицу (minor).
3. Из мобильного проекта выполнить node postbuild.js
4. Скачать apk и ipa файлы


Деплой apk в play.google.com

Нужно попросить немецких товарищей добавить Вас в разработчики проекта, чтобы появилась возможность вносить изменения.

1. Все приложения --> Quizdom Win
2. Боковое меню --> Управление релизом --> Версии приложения
3. Закрытые версии --> Синяя кнопка "НАСТРОИТЬ" напротив надписи "Альфа-версия"
4. Создать выпуск
5. Обзор файлов --> Выбрать собраный apk-файл
6. Кучу раз нажать внизу страницы "посмотреть", "продолжить" и т.д. До тех пор пока номер версии не обновится!
Если Вы задеплоили apk, а на странице информации о альфа-версии номер версии остался тем же, что и был до деплоя, значит где-то накосячили.
Самая распространенная ошибка на 6 пункте. Там раза 3 надо нажать на синюю кнопку внизу страницы.


Деплой ipa в itunes.connect

Учетка - taran.ts@spb.rusoft-company.ru

1. В Application Loader нажать "Choose", выбрать ipa-файл, нажать "next"
2. Подождать минут 15-30, пока itunes connect примет файл.
3. В itunes connect зайти в test flight и напротив новой версии нажать на желтый треугольник.
4. В появившемся попапе выбрать "No" и нажать "Ок"


Регистрация на phonegap.build.com

Корпоративной учетки нет! Мне в свое время ее не выделили, а нужно было "срочно деплоить, заказчику нужно показать мобилку"
Так что учетка моя личная, соответственно Вам нужно зарегистрироваться на сайте, это бесплатно.
После того, как Вы зарегистрировались, нужно загрузить ключи для андроида и айоса. Они лежат в папке keys мобильного проекта.
При загрузке нужно будет указать некоторые данные.
Для Android это title (android) и Alias (MyKey)
Для iOS это title (iOS)
После того, как Вы зарегистрировались и загрузили ключи, перейдите на вкладку Apps. Среди прочей информации будет поле App ID - его нужно скопировать.
Скопированное поле нужно вставить в config.json мобильного проекта, вместо того, что стоит сейчас. Сейчас стоит 3038415.